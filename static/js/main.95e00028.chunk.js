(this.webpackJsonpstock_trader=this.webpackJsonpstock_trader||[]).push([[0],{206:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n.n(s),a=n(33),r=n.n(a),o=(n(83),n(84),n(6)),i=n(19),l=n(2),u=n(21),j=n(3),b="AUTHORIZE",d="DEAUTHORIZE",h="LOADING_FINISH",O="LOAD_STOCKS",m="UPDATE_QUANTITY",f="LOAD_TRANSACTIONS",p="NEW_TRANSACTION",y="SET_CASH",x="SET_ERROR_MESSAGE",g="ADD_STOCK",k="ADD_NEW_ID",S=n(15),v=n.n(S),E=function(){return{type:b}},N=function(){return{type:d}},w=function(t){return{type:y,cash:t}},M=function(t,e){return{type:x,message:t,success:e}},Q=function(){return function(t){var e=localStorage.getItem("jwtToken");v.a.get("https://stocks-308723.ts.r.appspot.com/stocks",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var n;t((n=e.data.stocks,{type:O,stocks:n}))})).catch((function(e){e.response?t(M(e.response.data.message)):t(M("Something went wrong"))}))}},A=function(t,e,n,s){return{type:m,symbol:t,value:e,sell:n,max:s}},C=function(t,e,n){return function(n){var s=localStorage.getItem("jwtToken");""===e&&(e=0),v.a.post("https://stocks-308723.ts.r.appspot.com/stocks/buy",{stock:{symbol:t.symbol,companyName:t.companyName,prices:t.prices},quantity:e},{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var s,c,a;n((s=e.data.newId,c=t.symbol,{type:k,_id:s,symbol:c})),n(w(e.data.cash)),localStorage.setItem("cash",e.data.cash),n((a=e.data.transaction,{type:p,transaction:a}))})).catch((function(t){t.response?n(M(t.response.data.message)):n(M("Something went wrong"))}))}},L=function(){return function(t){var e=localStorage.getItem("jwtToken");v.a.get("https://stocks-308723.ts.r.appspot.com/stocks/transactions",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var n;t((n=e.data.transactions,{type:f,transactions:n}))})).catch((function(e){e.response?t(M(e.response.data.message)):t(M("Something went wrong"))}))}},T=n(0),_=Object(j.b)(null,(function(t){return{onPostRegister:function(e,n){t(function(t,e){return function(n){v.a.post("https://stocks-308723.ts.r.appspot.com/register",Object(l.a)({},t)).then((function(t){localStorage.setItem("jwtToken",t.data.token);var s=Date.now()+Number(t.data.expiresIn);localStorage.setItem("jwtExpires",s),e.push("/"),n(E()),localStorage.setItem("cash",t.data.cash),n(w(t.data.cash)),n(M("Registered","success"))})).catch((function(t){t.response?n(M(t.response.data.message)):n(M("Something went wrong"))}))}}(e,n))},onSetErrorMessage:function(e){t(M(e))}}}))((function(t){Object(s.useEffect)((function(){t.onSetErrorMessage("")}),[]);var e=Object(s.useState)({username:"",password:"",confirmPassword:""}),n=Object(u.a)(e,2),c=n[0],a=n[1],r=Object(o.g)(),j=function(e){var n=Object(l.a)(Object(l.a)({},c),{},Object(i.a)({},e.target.name,e.target.value));a(n),t.onSetErrorMessage("")};return Object(T.jsxs)("div",{className:"w-600 h-center",children:[Object(T.jsx)("h1",{className:"page-title",children:"Register"}),Object(T.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t.onPostRegister(c,r)},children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"username",children:"Username"}),Object(T.jsx)("input",{type:"text",id:"username",name:"username",value:c.username,onChange:j,required:!0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:j,required:!0,minLength:"8"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(T.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:j,required:!0,minLength:"8"})]}),Object(T.jsx)("button",{className:"h-center",type:"submit","aria-label":"submit",children:"Submit"})]})]})})),I=Object(j.b)(null,(function(t){return{onPostLogin:function(e,n){t(function(t,e){return function(n){v.a.post("https://stocks-308723.ts.r.appspot.com/login",Object(l.a)({},t)).then((function(t){localStorage.setItem("jwtToken",t.data.token);var s=Date.now()+Number(t.data.expiresIn);localStorage.setItem("jwtExpires",s),e.push("/"),n(E()),localStorage.setItem("cash",t.data.cash),n(w(t.data.cash)),n(M("Logged In","success"))})).catch((function(t){t.response?n(M(t.response.data.message)):n(M("Something went wrong"))}))}}(e,n))},onSetErrorMessage:function(e){t(M(e))}}}))((function(t){Object(s.useEffect)((function(){t.onSetErrorMessage("")}),[]);var e=Object(s.useState)({username:"",password:""}),n=Object(u.a)(e,2),c=n[0],a=n[1],r=function(e){var n=Object(l.a)(Object(l.a)({},c),{},Object(i.a)({},e.target.name,e.target.value));a(n),t.onSetErrorMessage("")},j=Object(o.g)();return Object(T.jsxs)("div",{className:"w-600 h-center",children:[Object(T.jsx)("h1",{className:"page-title",children:"Login"}),Object(T.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t.onPostLogin(c,j)},children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"username",children:"Username"}),Object(T.jsx)("input",{type:"text",id:"username",name:"username",value:c.username,onChange:r,required:!0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:r,required:!0,minLength:"8"})]}),Object(T.jsx)("button",{className:"h-center",type:"submit","aria-label":"submit",children:"Submit"})]})]})})),F=Object(j.b)((function(t){return{isAuth:t.auth.isAuth,isLoading:t.auth.isLoading}}))((function(t){return t.isAuth?Object(T.jsx)(c.a.Fragment,{children:t.children}):t.isLoading?Object(T.jsx)("h1",{children:"Loading..."}):Object(T.jsx)(o.a,{to:"/login"})})),D=n(76),q=n.n(D),U=Object(j.b)(null,(function(t){return{onSetErrorMessage:function(e){t(M(e))}}}))((function(t){return Object(s.useEffect)((function(){t.onSetErrorMessage("")}),[]),Object(T.jsxs)("div",{className:q.a.Home,children:[Object(T.jsx)("h1",{children:"Stock Trader"}),Object(T.jsx)("p",{children:"A site to practice trading stocks"}),Object(T.jsx)("p",{children:"With risk free simulated trades and portfolios"}),Object(T.jsx)("p",{children:"Uses real data which is updated daily"})]})})),B=Object(j.b)((function(t){return{stocks:t.stocks.stocks,cash:t.auth.cash}}),(function(t){return{onFetchStocks:function(){t(Q())},onUpdateQuantity:function(e,n){t(A(e,n))},onBuyStock:function(e,n,s){t(C(e,n))},onAddStock:function(e){t(function(t){return{type:g,stock:t}}(e))},onSetErrorMessage:function(e){t(M(e))}}}))((function(t){Object(s.useEffect)((function(){t.stocks.length||t.onFetchStocks(),t.onSetErrorMessage("")}),[]);var e=Object(s.useState)(""),n=Object(u.a)(e,2),c=n[0],a=n[1],r=Object(o.g)();return Object(T.jsxs)("div",{className:"h-center w-600",children:[Object(T.jsx)("h1",{className:"page-title",children:"Search"}),Object(T.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var n=t.stocks.findIndex((function(t){return t.symbol===c.toUpperCase()}));if(-1!==n)t.onSetErrorMessage(""),r.push("/stocks/".concat(t.stocks[n].symbol));else{var s=localStorage.getItem("jwtToken");v.a.post("https://stocks-308723.ts.r.appspot.com/search",{symbol:c},{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var n=e.data;t.onAddStock({symbol:n.symbol,companyName:n.companyName,prices:n.prices,buyQuantity:0}),r.push("/stocks/".concat(n.symbol))})).catch((function(e){e.response?t.onSetErrorMessage(e.response.data.message):t.onSetErrorMessage("Something went wrong")}))}},children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"search",children:"Symbol"}),Object(T.jsx)("input",{type:"text",id:"search",name:"search",value:c,onChange:function(e){a(e.target.value),t.onSetErrorMessage("")},required:!0,maxLength:"6"})]}),Object(T.jsx)("button",{className:"h-center",type:"submit",children:"Search"})]})]})})),P=n(12),R=n(5),z=Object(j.b)((function(t){return{stocks:t.stocks.stocks,cash:t.auth.cash}}),(function(t){return{onFetchStocks:function(){t(Q())},onUpdateQuantity:function(e,n){t(A(e,n))},onBuyStock:function(e,n,s){t(C(e,n))},onSetErrorMessage:function(e,n){t(M(e,n))}}}))((function(t){Object(s.useEffect)((function(){if(t.stocks.length){var e,n=Object(P.a)(t.stocks);try{for(n.s();!(e=n.n()).done;){var s=e.value;t.onUpdateQuantity(s.symbol,"")}}catch(c){n.e(c)}finally{n.f()}}else t.onFetchStocks();t.onSetErrorMessage("")}),[]);var e=function(e){e.preventDefault();var n=e.target.getAttribute("data-symbol"),s=t.stocks.findIndex((function(t){return t.symbol===n})),c=t.stocks[s].prices[t.stocks[s].prices.length-1],a=t.stocks[s].buyQuantity,r=c*a;console.log(r),0!==r&&r<t.cash?(t.onBuyStock(t.stocks[s],a,s),t.onUpdateQuantity(n,0),t.onSetErrorMessage("Bought ".concat(a," ").concat(n),"success")):r>t.cash?t.onSetErrorMessage("Cannot Afford"):""===a&&t.onSetErrorMessage("Please Enter a Number")},n=t.stocks.map((function(n){var s=(n.prices[n.prices.length-1]-n.prices[n.prices.length-2])/n.prices[n.prices.length-2]*100;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(n.symbol),children:n.symbol})}),Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(n.symbol),children:n.companyName})}),Object(T.jsx)("td",{className:s>0?"r-align positive":s<0?"r-align negative":"r-align",children:n.prices.length>1?s.toFixed(2)+"%":"-"}),Object(T.jsx)("td",{className:"r-align",children:n.prices[n.prices.length-1].toFixed(2)}),Object(T.jsx)("td",{children:Object(T.jsxs)("form",{className:"transaction-form",onSubmit:e,"data-symbol":n.symbol,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{type:"button","aria-label":"subtract 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,n.buyQuantity-1)},children:"-"}),Object(T.jsx)("input",{type:"number",id:"quantity",name:"quantity","aria-label":"quantity",value:n.buyQuantity,min:"0",onChange:function(e){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,e.target.value)}}),Object(T.jsx)("button",{type:"button","aria-label":"add 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,n.buyQuantity+1)},children:"+"})]}),Object(T.jsx)("button",{type:"submit",children:"Buy"})]})})]},n.symbol)}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{className:"page-title",children:"Stocks"}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Symbol"}),Object(T.jsx)("th",{children:"Company"}),Object(T.jsx)("th",{children:"Change"}),Object(T.jsx)("th",{children:"Price"}),Object(T.jsx)("th",{children:"Buy"})]})}),Object(T.jsx)("tbody",{children:n})]})]})})),H=n(77),Y=Object(j.b)((function(t){return{stocks:t.stocks.stocks,cash:t.auth.cash}}),(function(t){return{onFetchStocks:function(){t(Q())},onUpdateQuantity:function(e,n){t(A(e,n))},onBuyStock:function(e,n,s){t(C(e,n))},onSetErrorMessage:function(e,n){t(M(e,n))}}}))((function(t){Object(s.useEffect)((function(){if(t.stocks.length){var e,n=Object(P.a)(t.stocks);try{for(n.s();!(e=n.n()).done;){var s=e.value;t.onUpdateQuantity(s.symbol,"")}}catch(c){n.e(c)}finally{n.f()}}else t.onFetchStocks();t.onSetErrorMessage("")}),[]);var e=function(e){e.preventDefault();var n=e.target.getAttribute("data-symbol"),s=t.stocks.findIndex((function(t){return t.symbol===n})),c=t.stocks[s].prices[t.stocks[s].prices.length-1],a=t.stocks[s].buyQuantity,r=c*a;""!==a&&r<t.cash?(t.onBuyStock(t.stocks[s],a,s),t.onUpdateQuantity(n,""),t.onSetErrorMessage("Bought ".concat(a," ").concat(n),"success")):r>t.cash?t.onSetErrorMessage("Cannot Afford"):""===a&&t.onSetErrorMessage("Please Enter a Number")},n=Object(o.i)().symbol,a=t.stocks.filter((function(t){return t.symbol===n.toUpperCase()})),r=[];return a.length&&(r=a.map((function(n){return Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)("h1",{className:"page-title",children:n.symbol}),Object(T.jsxs)("p",{className:"company-name",children:["Company: ",n.companyName]}),Object(T.jsx)("h2",{className:"price-history h-center",children:"Price history"}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsx)("tr",{children:n.prices.map((function(t,e){var s=new Date(Date.now()-1e3*(n.prices.length-1-e)*60*60*24);return Object(T.jsx)("th",{children:s.toLocaleDateString()},e)}))})}),Object(T.jsx)("tbody",{children:Object(T.jsx)("tr",{children:n.prices.map((function(t,e){return Object(T.jsx)("td",{className:"r-align",children:t},e)}))})})]}),n.prices.length>1?Object(T.jsx)(H.Line,{data:{type:"Line",labels:n.prices.map((function(t,e){return new Date(Date.now()-1e3*(n.prices.length-1-e)*60*60*24).toLocaleDateString()})),datasets:[{fill:!1,pointBackgroundColor:"rgb(90, 90, 255)",borderColor:"rgb(90, 90, 255)",lineTension:0,data:n.prices.map((function(t,e){return t}))}]},options:{legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}]}}}):null,Object(T.jsxs)("form",{className:"transaction-form",onSubmit:e,"data-symbol":n.symbol,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{type:"button","aria-label":"subtract 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,n.buyQuantity-1)},children:"-"}),Object(T.jsx)("input",{type:"number",id:"quantity",name:"quantity","aria-label":"quantity",value:n.buyQuantity,min:"0",onChange:function(e){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,e.target.value)}}),Object(T.jsx)("button",{type:"button","aria-label":"add 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(n.symbol,n.buyQuantity+1)},children:"+"})]}),Object(T.jsx)("button",{type:"submit",children:"Buy"})]})]},n.symbol)}))),!r.length&&t.stocks.length&&(r=Object(T.jsx)(o.a,{to:"/stocks"})),Object(T.jsx)("div",{className:"w-600 h-center flex-column",children:r})})),G=Object(j.b)((function(t){return{stocks:t.stocks.stocks,transactions:t.stocks.transactions,isTransactionsLoaded:t.stocks.isTransactionsLoaded,isStocksLoaded:t.stocks.isStocksLoaded}}),(function(t){return{onFetchStocks:function(){t(Q())},onFetchTransactions:function(){t(L())},onSetErrorMessage:function(e){t(M(e))}}}))((function(t){Object(s.useEffect)((function(){t.isStocksLoaded||t.onFetchStocks(),t.onSetErrorMessage("")}),[]),t.isStocksLoaded&&!t.isTransactionsLoaded&&t.onFetchTransactions();var e=t.transactions.map((function(e){var n=t.stocks.filter((function(t){return e.stock===t._id}))[0];return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(n.symbol),children:n.symbol})}),Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(n.symbol),children:n.companyName})}),Object(T.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),Object(T.jsx)("td",{className:"r-align",children:e.quantity}),Object(T.jsx)("td",{className:"r-align",children:e.price.toFixed(2)}),Object(T.jsx)("td",{className:"r-align",children:Math.abs(e.quantity*e.price).toFixed(2)})]},e._id)}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{className:"page-title",children:"Your Transactions"}),Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Symbol"}),Object(T.jsx)("th",{children:"Company"}),Object(T.jsx)("th",{children:"Date"}),Object(T.jsx)("th",{children:"Quantity"}),Object(T.jsx)("th",{children:"Price"}),Object(T.jsx)("th",{children:"Total"})]})}),Object(T.jsx)("tbody",{children:e.reverse()})]})]})})),K=Object(j.b)((function(t){return{stocks:t.stocks.stocks,owned:t.stocks.owned,isTransactionsLoaded:t.stocks.isTransactionsLoaded,cash:t.auth.cash}}),(function(t){return{onFetchStocks:function(){t(Q())},onFetchTransactions:function(){t(L())},onUpdateQuantity:function(e,n,s,c){t(A(e,n,s,c))},onBuyStock:function(e,n,s){t(C(e,n))},onSetErrorMessage:function(e,n){t(M(e,n))}}}))((function(t){Object(s.useEffect)((function(){if(t.stocks.length){var e,n=Object(P.a)(t.stocks);try{for(n.s();!(e=n.n()).done;){var s=e.value;t.onUpdateQuantity(s.symbol,""),t.onUpdateQuantity(s.symbol,"","sell")}}catch(c){n.e(c)}finally{n.f()}}else t.onFetchStocks();t.isTransactionsLoaded||t.onFetchTransactions(),t.onSetErrorMessage("")}),[]);var e=function(e){e.preventDefault();var n=e.target.getAttribute("data-symbol"),s=t.stocks.findIndex((function(t){return t.symbol===n})),c=t.stocks[s].prices[t.stocks[s].prices.length-1],a=t.stocks[s].buyQuantity,r=c*a;""!==a&&r<t.cash?(t.onBuyStock(t.stocks[s],a,s),t.onUpdateQuantity(n,0),t.onSetErrorMessage("Bought ".concat(a," ").concat(n),"success")):r>t.cash?t.onSetErrorMessage("Cannot Afford"):""===a&&t.onSetErrorMessage("Please Enter a Number")},n=function(e){e.preventDefault();var n=e.target.getAttribute("data-symbol"),s=t.stocks.findIndex((function(t){return t.symbol===n})),c=t.owned[n].quantity,a=t.stocks[s].sellQuantity;""!==a&&a<=c?(t.onBuyStock(t.stocks[s],-a,s),t.onUpdateQuantity(n,0,"sell"),t.onSetErrorMessage("Sold ".concat(a," ").concat(n),"success")):""===a?t.onSetErrorMessage("Please Enter a Number"):a>c&&t.onSetErrorMessage("You Do Not Own That Many Shares")},c=0,a=[],r=function(s){var r=t.stocks.filter((function(t){return s===t.symbol}))[0],o=(r.prices[r.prices.length-1]-r.prices[r.prices.length-2])/r.prices[r.prices.length-2]*100;a.push(Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(s),children:s})}),Object(T.jsx)("td",{children:Object(T.jsx)(R.b,{to:"/stocks/".concat(s),children:r.companyName})}),Object(T.jsx)("td",{className:o>0?"r-align positive":o<0?"r-align negative":"r-align",children:r.prices.length>1?o.toFixed(2)+"%":"-"}),Object(T.jsx)("td",{className:"r-align",children:t.owned[s].quantity}),Object(T.jsx)("td",{className:"r-align",children:r.prices[r.prices.length-1].toFixed(2)}),Object(T.jsx)("td",{className:"r-align",children:(r.prices[r.prices.length-1]*t.owned[s].quantity).toFixed(2)}),Object(T.jsx)("td",{children:Object(T.jsxs)("form",{className:"transaction-form",onSubmit:e,"data-symbol":r.symbol,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{type:"button","aria-label":"subtract 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,r.buyQuantity-1)},children:"-"}),Object(T.jsx)("input",{type:"number",id:"quantity",name:"quantity","aria-label":"quantity",value:r.buyQuantity,min:"0",onChange:function(e){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,e.target.value)}}),Object(T.jsx)("button",{type:"button","aria-label":"add 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,r.buyQuantity+1)},children:"+"})]}),Object(T.jsx)("button",{type:"submit",children:"Buy"})]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("form",{className:"transaction-form",onSubmit:n,"data-symbol":r.symbol,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{type:"button","aria-label":"subtract 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,r.sellQuantity-1,"sell",t.owned[s].quantity)},children:"-"}),Object(T.jsx)("input",{type:"number",id:"quantity",name:"quantity","aria-label":"quantity",value:r.sellQuantity,min:"0",onChange:function(e){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,e.target.value,"sell")},max:t.owned[s].quantity}),Object(T.jsx)("button",{type:"button","aria-label":"add 1",onClick:function(){t.onSetErrorMessage(""),t.onUpdateQuantity(r.symbol,r.sellQuantity+1,"sell",t.owned[s].quantity)},children:"+"})]}),Object(T.jsx)("button",{type:"submit",children:"Sell"})]})})]},s)),c+=r.prices[r.prices.length-1]*t.owned[s].quantity};for(var o in t.owned)r(o);return Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{className:"page-title",children:"Portfolio"}),Object(T.jsx)("div",{children:Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Symbol"}),Object(T.jsx)("th",{children:"Company"}),Object(T.jsx)("th",{children:"Change"}),Object(T.jsx)("th",{children:"Quantity"}),Object(T.jsx)("th",{children:"Price"}),Object(T.jsx)("th",{children:"Value"}),Object(T.jsx)("th",{children:"Buy"}),Object(T.jsx)("th",{children:"Sell"})]})}),Object(T.jsx)("tbody",{children:a}),Object(T.jsxs)("tfoot",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{children:"Cash: "}),Object(T.jsx)("td",{className:"r-align",children:t.cash.toFixed(2)}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{children:"Total:"}),Object(T.jsx)("td",{className:"r-align",children:(c+t.cash).toFixed(2)}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{})]})]})]})})]})})),W=Object(j.b)((function(t){return{isAuth:t.auth.isAuth}}))((function(t){return t.isAuth?Object(T.jsx)(c.a.Fragment,{children:t.children}):null})),X=Object(j.b)((function(t){return{isAuth:t.auth.isAuth}}))((function(t){return t.isAuth?null:Object(T.jsx)(c.a.Fragment,{children:t.children})})),J=n(34),V=n.n(J),Z=Object(j.b)((function(t){return{cash:t.auth.cash,errorMessage:t.auth.errorMessage}}),(function(t){return{onDeauthorize:function(){t(N())},onSetErrorMessage:function(e,n){t(M(e,n))}}}))((function(t){var e=Object(o.g)();return Object(T.jsxs)("nav",{className:V.a.Nav,children:[Object(T.jsxs)("ul",{className:V.a.top,children:[Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/",children:"Home"})}),Object(T.jsx)(X,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/register",children:"Register"})})}),Object(T.jsx)(X,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/login",children:"Login"})})}),Object(T.jsx)(W,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/transactions",children:"Transactions"})})}),Object(T.jsx)(W,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/stocks",children:"Stocks"})})}),Object(T.jsx)(W,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/portfolio",children:"Portfolio"})})}),Object(T.jsx)(W,{children:Object(T.jsx)("li",{children:Object(T.jsx)(R.b,{to:"/search",children:"Search"})})}),Object(T.jsx)(W,{children:Object(T.jsx)("li",{children:Object(T.jsx)("button",{onClick:function(){localStorage.removeItem("jwtToken"),localStorage.removeItem("jwtExpires"),localStorage.removeItem("cash"),e.push("/"),t.onDeauthorize(),t.onSetErrorMessage("Logged Out","success")},children:"Log out"})})})]}),Object(T.jsxs)("ul",{className:V.a.bottom,children:[Object(T.jsx)("li",{children:Object(T.jsx)(W,{children:Object(T.jsxs)("span",{children:["Cash: $",t.cash]})})}),Object(T.jsx)("li",{children:Object(T.jsx)("h2",{className:t.errorMessage.success?"success":"",children:t.errorMessage.message})}),Object(T.jsx)("li",{})]})]})}));function $(){var t=Object(o.h)().pathname;return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[t]),null}var tt=Object(j.b)((function(t){return{isAuth:t.auth.isAuth,cash:t.auth.cash,errorMessage:t.auth.errorMessage}}),(function(t){return{onAuthorize:function(){t(E())},onDeauthorize:function(){t(N())},onLoadingFinish:function(){t({type:h})},onSetCash:function(e){t(w(e))},onSetErrorMessage:function(e){t(M(e))}}}))((function(t){return Object(s.useEffect)((function(){(function(){var t=localStorage.getItem("jwtExpires");return t&&Number(t)>Date.now()})()&&(t.onAuthorize(),t.onSetCash(localStorage.getItem("cash"))),t.onLoadingFinish()}),[]),Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)($,{}),Object(T.jsx)(Z,{}),Object(T.jsx)("main",{className:"main",children:Object(T.jsxs)(o.d,{children:[Object(T.jsx)(o.b,{path:"/",exact:!0,children:Object(T.jsx)(U,{})}),Object(T.jsx)(o.b,{path:"/register",children:Object(T.jsx)(_,{})}),Object(T.jsx)(o.b,{path:"/login",children:Object(T.jsx)(I,{})}),Object(T.jsx)(o.b,{path:"/search",children:Object(T.jsx)(F,{children:Object(T.jsx)(B,{})})}),Object(T.jsx)(o.b,{path:"/transactions",children:Object(T.jsx)(F,{children:Object(T.jsx)(G,{})})}),Object(T.jsx)(o.b,{path:"/stocks/:symbol",children:Object(T.jsx)(F,{children:Object(T.jsx)(Y,{})})}),Object(T.jsx)(o.b,{path:"/portfolio",children:Object(T.jsx)(F,{children:Object(T.jsx)(K,{})})}),Object(T.jsx)(o.b,{path:"/stocks",children:Object(T.jsx)(F,{children:Object(T.jsx)(z,{})})})]})}),Object(T.jsx)("footer",{className:"footer",children:Object(T.jsx)("a",{href:"https://iexcloud.io",children:"Data provided by IEX Cloud"})})]})})),et=n(18),nt={isAuth:!1,isLoading:!0,errorMessage:""},st=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{isAuth:!0})},ct=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{isAuth:!1})},at=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{isLoading:!1})},rt=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{cash:Number(e.cash)})},ot=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{errorMessage:{message:e.message,success:e.success}})},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return st(t);case d:return ct(t);case h:return at(t);case y:return rt(t,e);case x:return ot(t,e);default:return t}},lt=n(26),ut={stocks:[],transactions:[],isTransactionsLoaded:!1,isStocksLoaded:!1,owned:{}},jt=function(t,e){var n,s=e.stocks,c=Object(P.a)(s);try{for(c.s();!(n=c.n()).done;){var a=n.value;a.buyQuantity="",a.sellQuantity=""}}catch(r){c.e(r)}finally{c.f()}return Object(l.a)(Object(l.a)({},t),{},{stocks:s,isStocksLoaded:!0})},bt=function(t,e){var n,s=[],c=Object(P.a)(t.stocks);try{for(c.s();!(n=c.n()).done;){var a=n.value;s.push(Object(l.a)(Object(l.a)({},a),{},{prices:Object(lt.a)(a.prices)}))}}catch(o){c.e(o)}finally{c.f()}var r=s.findIndex((function(t){return t.symbol===e.symbol}));return"sell"===e.sell?(s[r].sellQuantity=Number(e.value),s[r].sellQuantity<=0&&(s[r].sellQuantity=""),s[r].sellQuantity>e.max&&(s[r].sellQuantity=t.stocks[r].sellQuantity)):(s[r].buyQuantity=Number(e.value),s[r].buyQuantity<=0&&(s[r].buyQuantity=""),s[r].sellQuantity>e.max&&(s[r].sellQuantity=t.stocks[r].sellQuantity)),Object(l.a)(Object(l.a)({},t),{},{stocks:s})},dt=function(t,e){var n,s={},c=Object(P.a)(e);try{var a=function(){var e=n.value,c=t.stocks.filter((function(t){return e.stock===t._id}))[0];s[c.symbol]||(s[c.symbol]={},s[c.symbol].companyName=c.companyName,s[c.symbol].prices=c.prices),s[c.symbol].quantity||(s[c.symbol].quantity=0),s[c.symbol].quantity=s[c.symbol].quantity+e.quantity};for(c.s();!(n=c.n()).done;)a()}catch(o){c.e(o)}finally{c.f()}for(var r in s)0===s[r].quantity&&delete s[r];return s},ht=function(t,e){var n=e.transactions,s=dt(t,n);return Object(l.a)(Object(l.a)({},t),{},{isTransactionsLoaded:!0,transactions:n,owned:s})},Ot=function(t,e){var n=[].concat(Object(lt.a)(t.transactions),[e.transaction]),s=dt(t,n);return Object(l.a)(Object(l.a)({},t),{},{transactions:n,owned:s})},mt=function(t,e){return Object(l.a)(Object(l.a)({},t),{},{stocks:[].concat(Object(lt.a)(t.stocks),[e.stock])})},ft=function(t,e){var n,s=[],c=Object(P.a)(t.stocks);try{for(c.s();!(n=c.n()).done;){var a=n.value;s.push(Object(l.a)(Object(l.a)({},a),{},{prices:Object(lt.a)(a.prices)}))}}catch(o){c.e(o)}finally{c.f()}var r=s.findIndex((function(t){return t.symbol===e.symbol}));return s[r]._id||(s[r]._id=e._id),Object(l.a)(Object(l.a)({},t),{},{stocks:s})},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return jt(t,e);case m:return bt(t,e);case f:return ht(t,e);case p:return Ot(t,e);case g:return mt(t,e);case k:return ft(t,e);default:return t}},yt=n(78),xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,gt=Object(et.c)({auth:it,stocks:pt}),kt=Object(et.e)(gt,xt(Object(et.a)(yt.a)));r.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(j.a,{store:kt,children:Object(T.jsx)(R.a,{children:Object(T.jsx)(tt,{})})})}),document.getElementById("root"))},34:function(t,e,n){t.exports={Nav:"Nav_Nav__2KBhF",top:"Nav_top__2Y5Ew",bottom:"Nav_bottom__LGp4B",success:"Nav_success__2358B"}},76:function(t,e,n){t.exports={Home:"Home_Home__3sYQR"}},83:function(t,e,n){},84:function(t,e,n){}},[[206,1,2]]]);
//# sourceMappingURL=main.95e00028.chunk.js.map